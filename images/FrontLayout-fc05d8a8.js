import{_ as g,R as p,a as _,m as f,r as c,o as a,c as o,b as e,d as t,w as d,t as v,e as b,f as x,g as u}from"./index-42e7733d.js";import{u as w}from"./userStore-dd64ea77.js";const{VITE_API_PATH:k}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{isLogin:!1,userInfo:null,userId:localStorage.getItem("userId"),accessToken:localStorage.getItem("accessToken")}},components:{RouterView:p,RouterLink:_},computed:{},watch:{userInfo(){this.userInfo===null||this.userInfo===void 0?this.isLogin=!1:this.isLogin=!0}},created(){this.getUserData()},methods:{...f(w,["login"]),getUserData(){this.$http.get(`${k}/users?id=${this.userId}`,{Authorization:`Bearer ${this.accessToken}`}).then(n=>{this.userInfo=n.data[0],this.isLogin=!0}).catch(()=>{})},logout(){this.isLogin=!1,this.$router.push("/"),localStorage.setItem("accessToken",""),localStorage.setItem("userId","")}},mounted(){}},I={class:"container-fluid p-0 bg-white"},L={class:"container-fluid p-lg-0"},S={class:"container p-lg-0"},T={class:"navbar navbar-expand-lg navbar-light py-4"},V={class:"container-fluid p-0 d-lg-flex align-items-center"},P=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),j={class:"collapse navbar-collapse mt-3 mt-lg-0 d-lg-flex justify-content-end",id:"navbarContent"},C=e("ul",{class:"navbar-nav d-lg-flex align-items-lg-center"},[e("li",{class:"nav-item position-relative"},[e("a",{class:"nav-link dropdown-toggle text-black",href:"#",id:"resourceBrowse",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"探索資源"),e("ul",{class:"dropdown-menu position-absolute start-0","aria-labelledby":"resourceBrowse"},[e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/JavaScript"},"JavaScript")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/HTML&CSS"},"HTML/CSS")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/Python"},"Python")])])]),e("li",{class:"nav-item"},[e("a",{class:"nav-link text-black",href:"#"},"探索學習路徑")]),e("li",{class:"nav-item"},[e("a",{class:"nav-link text-black",href:"#"},"募集中的資源")]),e("li",{class:"nav-item text-black"},[e("div",{class:"bg-light input-group input-group-sm rounded-3 my-3"},[e("a",{class:"btn lh-1",href:"#",role:"button"},[e("span",{class:"material-icons material-icons-outlined"},"search")]),e("input",{class:"border-0 bg-light form-control",type:"text",placeholder:"JavaScript"})])])],-1),M={key:0},R={class:"navbar-nav beforeLogin ms-lg-3"},A={class:"nav-item d-flex"},B={key:1,class:"desktopMenu ms-lg-3"},D={class:"afterLogin justify-content-end navbar-nav d-lg-flex align-items-lg-center lh-1"},E=e("li",{class:"nav-item"},null,-1),N=e("li",{class:"nav-item dropdown create"},null,-1),$={class:"nav-item dropdown"},H={class:"nav-link dropdown-toggle accountMenuImg",href:"#",id:"accountMenu",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},U={class:"userImg d-inline-block bg-primary px-2 py-2 rounded-circle fw-bold fs-7 lh-1 text-white text-center"},J={class:"dropdown-menu","aria-labelledby":"accountMenu"},O={class:"accountMenu"},z={class:"container-fluid p-lg-0"},F={class:"footer container-fluid mt-auto py-5 p-lg-5 bg-primary"},q={class:"container d-flex flex-md-row flex-column justify-content-between align-items-center"},G={class:"navbar-nav d-flex flex-row flex-wrap justify-content-start"},K={class:"nav-item me-3 me-md-5 mb-3 mb-md-0"},Q=x('<li class="nav-item me-2"><a class="nav-link text-white">關於我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">聯絡我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">常見問題</a></li><li class="nav-item me-2"><a class="nav-link text-white">隱私權政策</a></li><li class="nav-item me-2"><a class="nav-link text-white"></a></li>',5),W=e("ul",{class:"navbar-nav d-flex flex-row"},[e("li",{class:"nav-item me-2"},[e("a",{class:"nav-link text-white fs-8"},"僅學習作品用無商業用途")])],-1);function X(n,l,Y,Z,i,r){const s=c("router-link"),m=c("router-view");return a(),o("div",I,[e("header",L,[e("div",S,[e("nav",T,[e("div",V,[t(s,{class:"navbar-brand mt-lg-2",to:"/"}),P,e("div",j,[C,i.isLogin===!1?(a(),o("div",M,[e("ul",R,[e("li",A,[t(s,{class:"nav-link btn btn-primary mx-lg-2 px-2 text-white",to:"/login"},{default:d(()=>[u("登入")]),_:1})])])])):(a(),o("div",B,[e("ul",D,[E,N,e("li",$,[e("a",H,[e("span",U,v(i.userInfo.firstName[0].toUpperCase()),1)]),e("ul",J,[e("li",null,[e("ul",O,[e("li",null,[t(s,{class:"dropdown-item",to:"/user-home/user-resources"},{default:d(()=>[u("我的資源")]),_:1})])])]),e("li",null,[e("a",{role:"button",class:"dropdown-item logOut",onClick:l[0]||(l[0]=b((...h)=>r.logout&&r.logout(...h),["prevent"]))},"登出")])])])])]))])])])])]),e("div",z,[e("main",null,[t(m)])]),e("footer",F,[e("div",q,[e("ul",G,[e("li",K,[t(s,{class:"footer-brand",to:"/"})]),Q]),W])])])}const se=g(y,[["render",X]]);export{se as default};
