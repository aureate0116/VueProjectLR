import{_ as b,S as v,V as p,r as d,o as x,c as V,d as t,g as f,e,M as m,j as c}from"./index-4958f9d3.js";const{VITE_API_PATH:_}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{usersData:[],lastName:"",firstName:"",email:"",password:"",confirmPassword:""}},watch:{},methods:{getUserList(){this.$http.get(`${_}/users`).then(l=>{this.usersData=l.data}).catch(()=>{})},signUp(){this.$http.post(`${_}/users`,{lastName:this.lastName,firstName:this.firstName,email:this.email,password:this.password,role:"user",title:"",experiences:"",links:{websiteUrl:""}}).then(()=>{v.fire({text:"註冊成功",icon:"success",iconColor:"#4AA9B6",showCancelButton:!0,confirmButtonColor:"#4AA9B6",cancelButtonColor:"#F8B436",confirmButtonText:"立即登入",cancelButtonText:"回首頁",allowOutsideClick:!1,backdrop:"rgba(122, 122, 122, 0.6)  "}).then(l=>{l.isConfirmed?this.$router.push("/login"):window.location.href="/"})})}},created(){p("isEmailExist",l=>this.usersData.some(u=>u.email===l)?"此信箱已註冊過":!0),p("confirmPw",l=>l===""||l!==this.password?"輸入密碼不一致":!0)},mounted(){this.getUserList()}},N={class:"signup container p-5 p-lg-8 p-md-4"},P=e("h3",{class:"my-3 text-center text-primary fw-bold"},"會員註冊",-1),U={class:"form-floating mb-3"},k=e("label",{for:"signupLastName",class:"text-gray"},"姓",-1),B={class:"form-floating mb-3"},E=e("label",{for:"signupfirstName",class:"text-gray"},"名字",-1),C={class:"form-floating mb-3"},A=e("label",{for:"signupMail",class:"text-gray"},"電子信箱",-1),I={class:"form-floating mb-3"},T=e("label",{for:"signupPw",class:"text-gray"},"密碼",-1),D={class:"form-floating mb-3"},L=e("label",{for:"signupPwConfirm",class:"text-gray"},"確認密碼",-1),S={class:"mt-6 text-center"},j=e("button",{type:"submit",id:"btnSignUp",class:"btn btn-primary text-white"}," 註冊 ",-1),q={class:"fs-8 text-gray my-3"},M=e("br",null,null,-1);function R(l,s,u,O,o,g){const n=d("v-field"),r=d("error-message"),h=d("router-link"),w=d("v-form");return x(),V("div",N,[t(w,{class:"signUpForm",onSubmit:s[5]||(s[5]=a=>g.signUp())},{default:f(({errors:a})=>[P,e("div",U,[t(n,{type:"text",id:"signupLastName",placeholder:"姓",class:m(["form-control signupInput",{"is-invalid":a.姓}]),name:"姓",rules:"required",modelValue:o.lastName,"onUpdate:modelValue":s[0]||(s[0]=i=>o.lastName=i)},null,8,["class","modelValue"]),t(r,{name:"姓",class:"invalid-feedback"}),k]),e("div",B,[t(n,{type:"text",id:"signupfirstName",placeholder:"名字",class:m(["form-control signupInput",{"is-invalid":a.名字}]),rules:"required",name:"名字",modelValue:o.firstName,"onUpdate:modelValue":s[1]||(s[1]=i=>o.firstName=i)},null,8,["class","modelValue"]),t(r,{name:"名字",class:"invalid-feedback"}),E]),e("div",C,[t(n,{type:"email",id:"signupMail",placeholder:"電子信箱",class:m(["form-control signupInput",{"is-invalid":a.信箱}]),rules:"email|required|isEmailExist",name:"信箱",modelValue:o.email,"onUpdate:modelValue":s[2]||(s[2]=i=>o.email=i)},null,8,["class","modelValue"]),t(r,{name:"信箱",class:"invalid-feedback"}),A]),e("div",I,[t(n,{type:"password",id:"signupPw",placeholder:"密碼",class:m(["form-control signupInput",{"is-invalid":a.密碼}]),rules:{required:!0,min:6},name:"密碼",modelValue:o.password,"onUpdate:modelValue":s[3]||(s[3]=i=>o.password=i)},null,8,["class","modelValue"]),t(r,{name:"密碼",class:"invalid-feedback"}),T]),e("div",D,[t(n,{type:"password",id:"signupPwConfirm",placeholder:"確認密碼",class:m(["form-control signupInput",{"is-invalid":a.確認密碼}]),rules:"confirmPw",name:"確認密碼",modelValue:o.confirmPassword,"onUpdate:modelValue":s[4]||(s[4]=i=>o.confirmPassword=i)},null,8,["class","modelValue"]),t(r,{name:"確認密碼",class:"invalid-feedback"}),L]),e("div",S,[j,e("p",q,[c(" 點擊「註冊」即表示你同意我們的使用條款及私隱政策。"),M,c(" 已經註冊 ? "),t(h,{to:"login",class:"text-primary"},{default:f(()=>[c(" 立即登入")]),_:1})])])]),_:1})])}const H=b(y,[["render",R]]);export{H as default};
