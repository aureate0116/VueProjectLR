import{_ as h,R as g,a as _,m as f,r as u,o as n,c as i,b as e,d as t,w as a,t as v,e as b,f as w,g as o}from"./index-80b8bc0d.js";import{u as x}from"./userStore-cbd827bd.js";const{VITE_API_PATH:k}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR",MODE:"production",DEV:!1,PROD:!0},I={data(){return{isLogin:!1,userInfo:null,userId:localStorage.getItem("userId"),accessToken:localStorage.getItem("accessToken")}},components:{RouterView:g,RouterLink:_},computed:{},watch:{userInfo(){this.userInfo===null||this.userInfo===void 0?this.isLogin=!1:this.isLogin=!0}},created(){this.getUserData()},methods:{...f(x,["login"]),getUserData(){this.$http.get(`${k}/users?id=${this.userId}`,{Authorization:`Bearer ${this.accessToken}`}).then(r=>{this.userInfo=r.data[0],this.isLogin=!0,console.log("this.userInfo",this.userInfo)}).catch(()=>{})},logout(){this.isLogin=!1,this.$router.push("/"),localStorage.setItem("accessToken",""),localStorage.setItem("userId","")}},mounted(){}},y={class:"container-fluid p-0 bg-white"},S={class:"container-fluid p-lg-0"},L={class:"container p-lg-0"},T={class:"navbar navbar-expand-lg navbar-light py-4"},C={class:"container-fluid p-0 d-lg-flex align-items-center"},M=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),V={class:"collapse navbar-collapse mt-3 mt-lg-0 d-lg-flex justify-content-end",id:"navbarContent"},P={class:"navbar-nav d-lg-flex align-items-lg-center"},j={class:"nav-item position-relative"},A=e("a",{class:"nav-link dropdown-toggle",href:"#",id:"resourceBrowse",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"探索資源",-1),B={class:"dropdown-menu position-absolute start-0","aria-labelledby":"resourceBrowse"},D=e("li",{class:"nav-item"},[e("a",{class:"nav-link",href:"#"},"探索學習路徑")],-1),E=e("li",{class:"nav-item"},[e("a",{class:"nav-link",href:"#"},"募集中的資源")],-1),R=e("li",{class:"nav-item"},[e("div",{class:"bg-light input-group input-group-sm rounded-3 my-3"},[e("a",{class:"btn lh-1",href:"#",role:"button"},[e("span",{class:"material-icons material-icons-outlined"},"search")]),e("input",{class:"border-0 bg-light form-control",type:"text",placeholder:"JavaScript"})])],-1),N={key:0},$={class:"navbar-nav beforeLogin ms-lg-3"},H={class:"nav-item d-flex"},U={key:1,class:"desktopMenu ms-lg-3"},J={class:"afterLogin justify-content-end navbar-nav d-lg-flex align-items-lg-center lh-1"},O=e("li",{class:"nav-item"},null,-1),z=e("li",{class:"nav-item dropdown create"},[e("a",{class:"nav-link dropdown-toggle",href:"#",id:"createItem",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("span",{class:"material-icons material-icons-outlined text-dark"}," add ")]),e("ul",{class:"dropdown-menu","aria-labelledby":"createItem"},[e("li",null,[e("a",{class:"dropdown-item",href:"#"},"新增資源")]),e("li",null,[e("a",{class:"dropdown-item",href:"#"},"新增募集")])])],-1),F={class:"nav-item dropdown"},q={class:"nav-link dropdown-toggle accountMenuImg",href:"#",id:"accountMenu",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},G={class:"userImg d-inline-block bg-primary px-2 py-2 rounded-circle fw-bold fs-7 lh-1 text-white text-center"},K={class:"dropdown-menu","aria-labelledby":"accountMenu"},Q={class:"accountMenu"},W={class:"container-fluid p-lg-0"},X=w('<footer class="footer container-fluid py-5 p-lg-5 bg-primary"><div class="container d-flex flex-md-row flex-column justify-content-between align-items-center"><ul class="navbar-nav d-flex flex-row flex-wrap justify-content-start"><li class="nav-item me-3 me-md-5 mb-3 mb-md-0"><a class="footer-brand" href="index.html"></a></li><li class="nav-item me-2"><a class="nav-link text-white">關於我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">聯絡我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">常見問題</a></li><li class="nav-item me-2"><a class="nav-link text-white">隱私權政策</a></li><li class="nav-item me-2"><a class="nav-link text-white"></a></li></ul><ul class="navbar-nav d-flex flex-row"><li class="nav-item me-2"><a class="nav-link text-white fs-8">僅學習作品用無商業用途</a></li></ul></div></footer>',1);function Y(r,c,Z,ee,l,d){const s=u("router-link"),m=u("router-view");return n(),i("div",y,[e("header",S,[e("div",L,[e("nav",T,[e("div",C,[t(s,{class:"navbar-brand mt-lg-2",to:"/"}),M,e("div",V,[e("ul",P,[e("li",j,[A,e("ul",B,[e("li",null,[t(s,{class:"dropdown-item",to:"/resource-list?topic=JavaScript"},{default:a(()=>[o("JavaScript")]),_:1})]),e("li",null,[t(s,{class:"dropdown-item",to:"/resource-list?topic=HTML/CSS"},{default:a(()=>[o("HTML/CSS")]),_:1})]),e("li",null,[t(s,{class:"dropdown-item",to:"/resource-list?topic=Python"},{default:a(()=>[o("Pyton")]),_:1})])])]),D,E,R]),l.isLogin===!1?(n(),i("div",N,[e("ul",$,[e("li",H,[t(s,{class:"nav-link btn btn-primary mx-lg-2 px-2 text-white",to:"/login"},{default:a(()=>[o("登入")]),_:1}),t(s,{class:"nav-link btn btn-secondary mx-lg-2 mx-2 px-2 text-white",to:"/signup"},{default:a(()=>[o("註冊")]),_:1})])])])):(n(),i("div",U,[e("ul",J,[O,z,e("li",F,[e("a",q,[e("span",G,v(l.userInfo.firstName[0].toUpperCase()),1)]),e("ul",K,[e("li",null,[e("ul",Q,[e("li",null,[t(s,{class:"dropdown-item",to:`/user-home/user-profile/${l.userInfo.id}`},{default:a(()=>[o("個人資料")]),_:1},8,["to"])]),e("li",null,[t(s,{class:"dropdown-item",to:`/user-home/user-resources/${l.userInfo.id}`},{default:a(()=>[o("我的資源")]),_:1},8,["to"])])])]),e("li",null,[e("a",{role:"button",class:"dropdown-item logOut",onClick:c[0]||(c[0]=b((...p)=>d.logout&&d.logout(...p),["prevent"]))},"登出")])])])])]))])])])])]),e("div",W,[e("main",null,[t(m)])]),X])}const ae=h(I,[["render",Y]]);export{ae as default};
