import{_ as C,s as T,t as O,r as b,o as s,c as o,b as a,e,x as d,w as h,F as r,u as y,v as _,E as k,K as D,d as m,y as x,L as V}from"./index-319d0d48.js";import{L as B,r as w}from"./LoadingComponent-6d651dd6.js";const P={data(){return{isLoading:!0,topic:this.$route.query.topic,topicsResData:[],foundationTabClassify:"初階",renderList:[],filterGroup:{type:["文章","書籍","線上課程","實體課程","第三方技術網站"],level:["初階","中階","高階"],price:["免費","付費","部分付費"],lang:["繁體中文","簡體中文","英文","多語系"]},checkObj:{type:[],level:[],price:[],lang:[]},sortRenderList:"heightRate"}},watch:{"checkObj.type":function(i){console.log(i),this.filterResources(),console.log(this.renderList)},"checkObj.level":function(i){console.log(i),this.filterResources(),console.log(this.renderList)},"checkObj.price":function(i){console.log(i),this.filterResources(),console.log(this.renderList)},"checkObj.lang":function(i){console.log(i),this.filterResources(),console.log(this.renderList)},sortRenderList(i){i==="new"?this.sortRenderList="new":this.sortRenderList="heightRate",this.filterResources()}},methods:{...T(w,["getResources","getComments","getAverageScore"]),changeTabData(i){this.foundationTabClassify=i},filterResources(){return console.log("filterResources is called"),console.log(this.checkObj),console.log(typeof this.topicsResData,this.topicsResData),this.renderList=this.topicsResData.filter(i=>{let c=!0,g=!0,v=!0,n=!0;return this.checkObj.type.length>0&&(c=this.checkObj.type.includes(i.type)),this.checkObj.level.length>0&&(g=this.checkObj.level.includes(i.level)),this.checkObj.price.length>0&&(v=this.checkObj.price.includes(i.price)),n=i.lang.some(u=>(console.log(u),this.checkObj.lang.length===0?!0:this.checkObj.lang.includes(u))),c&&g&&v&&n}),this.sortRenderList==="heightRate"?this.renderList=this.renderList.sort((i,c)=>c.averageScore-i.averageScore):this.sortRenderList==="new"&&(this.renderList=this.renderList.sort((i,c)=>c.id-i.id)),this.renderList},clearFilter(){this.checkObj.type.splice(0,this.checkObj.type.length),this.checkObj.level.splice(0,this.checkObj.type.length),this.checkObj.price.splice(0,this.checkObj.type.length),this.checkObj.lang.splice(0,this.checkObj.type.length),this.filterResources()}},components:{loading:B},computed:{...O(w,["resourcesData","commentsData","resourcesObj"]),foundationTabData(){return this.topicsResData.filter(i=>this.foundationTabClassify==="初階"?i.level===this.foundationTabClassify:this.foundationTabClassify==="免費"?i.price===this.foundationTabClassify:this.topicsResData).slice(-6)}},mounted(){(this.topic===null||this.topic===void 0)&&this.$router.push("/"),this.getResources(),this.topicsResData=this.resourcesData.filter(i=>i.topics.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")===this.topic.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")),console.log("topicsResData list",this.topicsResData),this.foundationTabData=this.topicsResData.filter(i=>i.level==="初階").slice(0,6),console.log("入門推薦 list",this.foundationTabData),this.renderList=[...this.topicsResData],this.isLoading=!1,document.title="Eng!neer 程式學習資源網 "+this.topic}},U={class:"container-fluid px-3 py-5 p-lg-0 bg-primary"},F={class:"bannerBlock container p-0 p-lg-8 p-md-4"},J={class:"text-white text-center"},M={class:"container py-5 p-lg-8"},N={class:"nav nav-pills mb-3 d-flex align-items-center",id:"pills-tab2",role:"tablist"},A=e("li",null,[e("h3",{class:"fs-5 mb-0 fw-bold me-4"},"入門推薦")],-1),z={class:"nav-item",role:"presentation"},E={class:"nav-item",role:"presentation"},G={class:"tab-content border border-primary p-3 p-md- rounded-3"},H={class:"tab-pane fade show active",role:"tabpanel","aria-labelledby":"resourceType1-tab"},Z={class:"row"},q={class:"d-flex p-2 align-items-center"},K={class:"row"},Q={key:0,class:"col-6"},W=["src","alt"],X={key:1,class:"col-6"},Y=["src","alt"],$={class:"col-6"},I={class:"ellipsis fs-7"},ee={class:"d-flex justify-content-between align-items-center"},te={key:0},se=e("span",{class:"fs-8 text-gray"},"尚無評價",-1),oe=[se],ie={key:1,class:"d-flex align-items-center"},le={class:"fs-7 fw-bold text-secondary"},ne={class:"d-flex mx-1 lh-1 text-secondary"},ce={key:0},ae={key:1},re=e("span",{class:"material-icons material-icons-sharp fs-8"},"star_half",-1),de=[re],he={key:2},_e={class:"fs-8 text-secondary"},pe={class:"hotTopic relatedContainer container py-5 p-lg-8 pt-lg-0"},ue=e("h3",{class:"fs-5 fw-bold mb-4"},"相關主題",-1),fe={key:0,class:"row relatedTopic"},ge={class:"col"},ve={class:"topicItem text-center my-2 p-3 rounded-3"},be=e("h4",{class:"fw-bold"},"HTML/CSS",-1),me={class:"col"},ye={class:"topicItem text-center my-2 p-3 rounded-3"},ke=e("h4",{class:"fw-bold"},"Python",-1),xe={key:1,class:"row relatedTopic"},we={class:"col"},Le={class:"topicItem text-center my-2 p-3 rounded-3"},Se=e("h4",{class:"fw-bold"},"JavaScript",-1),Re={key:2,class:"row relatedTopic"},je={class:"col"},Ce={class:"topicItem text-center my-2 p-3 rounded-3"},Te=e("h4",{class:"fw-bold"},"JavaScript",-1),Oe={class:"filterList container py-5 p-lg-8 d-lg-flex border-top"},De=e("h3",{class:"fs-5 fw-bold mb-4 d-lg-none"},"篩選",-1),Ve={class:"filter bg-white rounded-3 p-4 me-lg-4 d-flex flex-wrap flex-lg-column flex-column justify-content-between justify-content-lg-start flex-sm-row"},Be={class:"fs-6"},Pe={class:"input-group filterItem"},Ue=["id","value","onUpdate:modelValue"],Fe=["for"],Je={class:"resourceList"},Me={class:"row d-lg-flex align-items-center mb-5 mb-lg-0 justify-content-between"},Ne={class:"col-md-5 fs-8 mb-3 mb-md-0"},Ae={class:"resultNumber me-3"},ze=e("span",{class:"clearBtnText text-primary"},"清除篩選條件",-1),Ee=[ze],Ge={class:"col-md-3 d-flex align-items-end"},He={class:"input-group"},Ze=e("option",{value:"heightRate"},"最高評價",-1),qe=e("option",{value:"new"},"最新",-1),Ke=[Ze,qe],Qe={class:"row"},We={key:0,class:"col resourceItem"},Xe={key:1,class:"col resourceItem"},Ye={key:0,class:"col-2"},$e=["src","alt"],Ie={key:1,class:"col-2"},et=["src","alt"],tt={class:"col-6"},st={class:"ellipsis fs-7"},ot={class:"d-flex justify-content-between align-items-center"},it={key:0},lt=e("span",{class:"fs-8 text-gray"},"尚無評價",-1),nt=[lt],ct={key:1,class:"d-flex align-items-center"},at={class:"fs-7 fw-bold text-secondary"},rt={class:"d-flex mx-1 lh-1 text-secondary"},dt={key:0},ht={key:1},_t=e("span",{class:"material-icons material-icons-sharp fs-8"},"star_half",-1),pt=[_t],ut={key:2},ft={class:"fs-8 text-secondary"},gt={class:"col-4"},vt={class:"d-flex flex-column flex-lg-row align-items-end"},bt=["href"];function mt(i,c,g,v,n,u){const L=b("loading"),p=b("router-link"),S=b("router-view");return s(),o(r,null,[a(L,{active:n.isLoading},null,8,["active"]),e("div",U,[e("div",F,[e("h2",J,d(n.topic),1)])]),a(S,null,{default:h(()=>[e("div",M,[e("ul",N,[A,e("li",z,[e("button",{class:y(["nav-link",{active:n.foundationTabClassify==="初階"}]),"data-bs-toggle":"pill",type:"button",role:"tab","aria-controls":"pills-fundation","aria-selected":"true",onClick:c[0]||(c[0]=t=>u.changeTabData("初階"))}," 初階 ",2)]),e("li",E,[e("button",{class:y(["nav-link",{active:n.foundationTabClassify==="免費"}]),"data-bs-toggle":"pill",type:"button",role:"tab","aria-controls":"pills-freeItem","aria-selected":"false",onClick:c[1]||(c[1]=t=>u.changeTabData("免費"))}," 免費 ",2)])]),e("div",G,[e("div",H,[e("div",Z,[(s(!0),o(r,null,_(u.foundationTabData,t=>(s(),o("div",{class:"col-md-6 col-lg-4",key:t.id},[e("div",q,[e("div",K,[t.imgUrl!=""?(s(),o("div",Q,[e("img",{src:"/VueProjectLR/images/resources_cover/"+t.imgUrl,alt:t.title},null,8,W)])):(s(),o("div",X,[e("img",{src:"/VueProjectLR/images/resources_cover/noimgCover.jpg",alt:t.title},null,8,Y)])),e("div",$,[e("h4",I,[a(p,{to:"/resource?id="+t.id,target:"_blank"},{default:h(()=>[m(d(t.title),1)]),_:2},1032,["to"])]),e("div",ee,[t.commentSum==0||t.commentSum==null?(s(),o("div",te,oe)):(s(),o("div",ie,[e("span",le,d(t.averageScore),1),e("ul",ne,[e("li",null,[(s(!0),o(r,null,_(t.averageScore,l=>(s(),o("span",{key:l+1,class:"material-icons material-icons-sharp fs-8"},"star"))),128))]),t.averageScore[2]<=2?(s(),o("li",ce,[(s(!0),o(r,null,_(5-t.averageScore[0],l=>(s(),o("span",{key:l+2,class:"material-icons material-icons-sharp fs-8"},"star_outline"))),128))])):t.averageScore[2]>=3&&t.averageScore[2]<=7?(s(),o("li",ae,de)):t.averageScore[2]>=8?(s(),o("li",he,[(s(!0),o(r,null,_(5-t.averageScore[0]-1,l=>(s(),o("span",{key:l+3,class:"material-icons material-icons-sharp fs-8"},"star"))),128))])):x("",!0)]),e("span",_e,"("+d(t.commentSum)+")",1)]))])])])])]))),128))])])])]),e("div",pe,[ue,n.topic==="JavaScript"?(s(),o("div",fe,[e("div",ge,[e("div",ve,[a(p,{to:"/resource-list?topic=HTML/CSS",target:"_blank"},{default:h(()=>[be]),_:1})])]),e("div",me,[e("div",ye,[a(p,{to:"/resource-list?topic=Python"},{default:h(()=>[ke]),_:1})])])])):n.topic==="HTML/CSS"?(s(),o("div",xe,[e("div",we,[e("div",Le,[a(p,{to:"/resource-list?topic=JavaScript",target:"_blank"},{default:h(()=>[Se]),_:1})])])])):(s(),o("div",Re,[e("div",je,[e("div",Ce,[a(p,{to:"/resource-list?topic=JavaScript",target:"_blank"},{default:h(()=>[Te]),_:1})])])]))]),e("div",Oe,[De,e("div",Ve,[(s(!0),o(r,null,_(n.filterGroup,(t,l)=>(s(),o("div",{class:"filterGroup border-bottom mb-3 pb-3",key:l},[e("h3",Be,d(l==="type"?"資源性質":l==="level"?"適用等級":l==="price"?"價格":l==="lang"?"語系":l),1),(s(!0),o(r,null,_(t,(f,R)=>(s(),o("div",{key:R},[e("div",Pe,[k(e("input",{type:"checkbox",class:"me-2",id:f,value:f,"onUpdate:modelValue":j=>n.checkObj[l]=j},null,8,Ue),[[V,n.checkObj[l]]]),e("label",{for:f,class:"me-2"},d(f),9,Fe)])]))),128))]))),128))]),e("div",Je,[e("div",Me,[e("div",Ne,[e("span",Ae,d(n.renderList.length)+" 個結果 ",1),e("a",{role:"button",id:"clearFilterBtn",onClick:c[2]||(c[2]=t=>u.clearFilter())},Ee)]),e("div",Ge,[e("div",He,[k(e("select",{class:"form-select form-select-sm",id:"resourceSort","onUpdate:modelValue":c[3]||(c[3]=t=>n.sortRenderList=t)},Ke,512),[[D,n.sortRenderList]])])])]),e("div",Qe,[n.renderList.length===0?(s(),o("div",We," 沒有符合條件的項目 ")):(s(),o("div",Xe,[(s(!0),o(r,null,_(n.renderList,t=>(s(),o("div",{class:"row my-3",key:t.id},[t.imgUrl!=""?(s(),o("div",Ye,[a(p,{to:"/resource?id="+t.id,target:"_blank"},{default:h(()=>[e("img",{src:"/VueProjectLR/images/resources_cover/"+t.imgUrl,alt:t.title},null,8,$e)]),_:2},1032,["to"])])):(s(),o("div",Ie,[a(p,{to:"/resource?id="+t.id,target:"_blank"},{default:h(()=>[e("img",{src:"/VueProjectLR/images/resources_cover/noimgCover.jpg",alt:t.title},null,8,et)]),_:2},1032,["to"])])),e("div",tt,[e("h4",st,[a(p,{to:"/resource?id="+t.id,target:"_blank"},{default:h(()=>[m(d(t.title),1)]),_:2},1032,["to"])]),e("div",ot,[t.commentSum===0||t.commentSum===void 0?(s(),o("div",it,nt)):(s(),o("div",ct,[e("span",at,d(t.averageScore),1),e("ul",rt,[e("li",null,[(s(!0),o(r,null,_(t.averageScore,l=>(s(),o("span",{key:l+1,class:"material-icons material-icons-sharp fs-8"},"star"))),128))]),t.averageScore[2]<=2?(s(),o("li",dt,[(s(!0),o(r,null,_(5-t.averageScore[0],l=>(s(),o("span",{key:l+2,class:"material-icons material-icons-sharp fs-8"},"star_outline"))),128))])):t.averageScore[2]>=3&&t.averageScore[2]<=7?(s(),o("li",ht,pt)):t.averageScore[2]>=8?(s(),o("li",ut,[(s(!0),o(r,null,_(5-t.averageScore[0]-1,l=>(s(),o("span",{key:l+3,class:"material-icons material-icons-sharp fs-8"},"star"))),128))])):x("",!0)]),e("span",ft,"("+d(t.commentSum)+")",1)]))])]),e("div",gt,[e("div",vt,[e("a",{href:t.url,target:"_blank",type:"button",class:"btn btn-tiffany my-2 mx-2 w-75"}," 前往資源 ",8,bt),a(p,{target:"_blank",to:`/resource?id=${t.id}`,type:"button",class:"btn btn-yellowBrown w-75 mx-2 my-2"},{default:h(()=>[m(" 查看評論 ")]),_:2},1032,["to"])])])]))),128))]))])])])]),_:1})],64)}const xt=C(P,[["render",mt]]);export{xt as default};
