import{_ as b,S as v,V as p,r as d,o as V,c as x,d as t,f,b as s,E as m,i as c}from"./index-1f9f34ab.js";const{VITE_API_PATH:_}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR/",MODE:"production",DEV:!1,PROD:!0},N={data(){return{usersData:[],lastName:"",firstName:"",email:"",password:"",confirmPassword:""}},watch:{},methods:{getUserList(){this.$http.get(`${_}/users`).then(l=>{this.usersData=l.data}).catch(()=>{})},signUp(){this.$http.post(`${_}/users`,{lastName:this.lastName,firstName:this.firstName,email:this.email,password:this.password,role:"user",title:"",experiences:"",links:{websiteUrl:""}}).then(()=>{v.fire({text:"註冊成功",icon:"success",iconColor:"#4AA9B6",showCancelButton:!0,confirmButtonColor:"#4AA9B6",cancelButtonColor:"#F8B436",confirmButtonText:"立即登入",cancelButtonText:"回首頁",allowOutsideClick:!1,backdrop:"rgba(122, 122, 122, 0.6)  "}).then(l=>{l.isConfirmed?this.$router.push("/login"):window.location.href="/"})})}},created(){p("isEmailExist",l=>this.usersData.some(u=>u.email===l)?"此信箱已註冊過":!0),p("confirmPw",l=>l===""||l!==this.password?"輸入密碼不一致":!0)},mounted(){this.getUserList()}},y={class:"signup container p-5 p-lg-8 p-md-4"},P=s("h3",{class:"fs-7 my-3"},"會員註冊",-1),E={class:"form-floating mb-3"},U=s("label",{for:"signupLastName",class:"text-gray"},"姓",-1),k={class:"form-floating mb-3"},B=s("label",{for:"signupfirstName",class:"text-gray"},"名字",-1),C={class:"form-floating mb-3"},A=s("label",{for:"signupMail",class:"text-gray"},"電子信箱",-1),I={class:"form-floating mb-3"},T=s("label",{for:"signupPw",class:"text-gray"},"密碼",-1),D={class:"form-floating mb-3"},L=s("label",{for:"signupPwConfirm",class:"text-gray"},"確認密碼",-1),S={class:"mt-6"},q=s("button",{type:"submit",id:"btnSignUp",class:"btn btn-primary text-white"}," 註冊 ",-1),R={class:"fs-8 text-gray my-3"},j=s("br",null,null,-1);function M(l,e,u,O,o,g){const n=d("v-field"),r=d("error-message"),h=d("router-link"),w=d("v-form");return V(),x("div",y,[t(w,{class:"signUpForm",onSubmit:e[5]||(e[5]=a=>g.signUp())},{default:f(({errors:a})=>[P,s("div",E,[t(n,{type:"text",id:"signupLastName",placeholder:"姓",class:m(["form-control signupInput",{"is-invalid":a.姓}]),name:"姓",rules:"required",modelValue:o.lastName,"onUpdate:modelValue":e[0]||(e[0]=i=>o.lastName=i)},null,8,["class","modelValue"]),t(r,{name:"姓",class:"invalid-feedback"}),U]),s("div",k,[t(n,{type:"text",id:"signupfirstName",placeholder:"名字",class:m(["form-control signupInput",{"is-invalid":a.名字}]),rules:"required",name:"名字",modelValue:o.firstName,"onUpdate:modelValue":e[1]||(e[1]=i=>o.firstName=i)},null,8,["class","modelValue"]),t(r,{name:"名字",class:"invalid-feedback"}),B]),s("div",C,[t(n,{type:"email",id:"signupMail",placeholder:"電子信箱",class:m(["form-control signupInput",{"is-invalid":a.信箱}]),rules:"email|required|isEmailExist",name:"信箱",modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=i=>o.email=i)},null,8,["class","modelValue"]),t(r,{name:"信箱",class:"invalid-feedback"}),A]),s("div",I,[t(n,{type:"password",id:"signupPw",placeholder:"密碼",class:m(["form-control signupInput",{"is-invalid":a.密碼}]),rules:{required:!0,min:6},name:"密碼",modelValue:o.password,"onUpdate:modelValue":e[3]||(e[3]=i=>o.password=i)},null,8,["class","modelValue"]),t(r,{name:"密碼",class:"invalid-feedback"}),T]),s("div",D,[t(n,{type:"password",id:"signupPwConfirm",placeholder:"確認密碼",class:m(["form-control signupInput",{"is-invalid":a.確認密碼}]),rules:"confirmPw",name:"確認密碼",modelValue:o.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=i=>o.confirmPassword=i)},null,8,["class","modelValue"]),t(r,{name:"確認密碼",class:"invalid-feedback"}),L]),s("div",S,[q,s("p",R,[c(" 點擊「註冊」即表示你同意我們的使用條款及私隱政策。"),j,c(" 已經註冊 ? "),t(h,{to:"login",class:"text-primary"},{default:f(()=>[c(" 立即登入")]),_:1})])])]),_:1})])}const H=b(N,[["render",M]]);export{H as default};
