import{_ as h,R as g,a as f,m as _,r as u,o as l,c as i,b as e,d as t,w as o,t as v,e as b,f as x,g as n}from"./index-501962d9.js";import{u as w}from"./userStore-bcee97ff.js";const{VITE_API_PATH:k}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR",MODE:"production",DEV:!1,PROD:!0},I={data(){return{isLogin:!1,userInfo:null,userId:localStorage.getItem("userId"),accessToken:localStorage.getItem("accessToken")}},components:{RouterView:g,RouterLink:f},computed:{},watch:{userInfo(){this.userInfo===null||this.userInfo===void 0?this.isLogin=!1:this.isLogin=!0}},created(){this.getUserData()},methods:{..._(w,["login"]),getUserData(){this.$http.get(`${k}/users?id=${this.userId}`,{Authorization:`Bearer ${this.accessToken}`}).then(r=>{this.userInfo=r.data[0],this.isLogin=!0,console.log("this.userInfo",this.userInfo)}).catch(()=>{})},logout(){this.isLogin=!1,this.$router.push("/"),localStorage.setItem("accessToken",""),localStorage.setItem("userId","")}},mounted(){}},y={class:"container-fluid p-0 bg-white"},L={class:"container-fluid p-lg-0"},S={class:"container p-lg-0"},T={class:"navbar navbar-expand-lg navbar-light py-4"},V={class:"container-fluid p-0 d-lg-flex align-items-center"},P=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),j={class:"collapse navbar-collapse mt-3 mt-lg-0 d-lg-flex justify-content-end",id:"navbarContent"},C=e("ul",{class:"navbar-nav d-lg-flex align-items-lg-center"},[e("li",{class:"nav-item position-relative"},[e("a",{class:"nav-link dropdown-toggle text-black",href:"#",id:"resourceBrowse",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"探索資源"),e("ul",{class:"dropdown-menu position-absolute start-0","aria-labelledby":"resourceBrowse"},[e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/JavaScript"},"JavaScript")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/HTML&CSS"},"HTML/CSS")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/Python"},"Python")])])]),e("li",{class:"nav-item"},[e("a",{class:"nav-link text-black",href:"#"},"探索學習路徑")]),e("li",{class:"nav-item"},[e("a",{class:"nav-link text-black",href:"#"},"募集中的資源")]),e("li",{class:"nav-item text-black"},[e("div",{class:"bg-light input-group input-group-sm rounded-3 my-3"},[e("a",{class:"btn lh-1",href:"#",role:"button"},[e("span",{class:"material-icons material-icons-outlined"},"search")]),e("input",{class:"border-0 bg-light form-control",type:"text",placeholder:"JavaScript"})])])],-1),M={key:0},R={class:"navbar-nav beforeLogin ms-lg-3"},A={class:"nav-item d-flex"},B={key:1,class:"desktopMenu ms-lg-3"},D={class:"afterLogin justify-content-end navbar-nav d-lg-flex align-items-lg-center lh-1"},E=e("li",{class:"nav-item"},null,-1),N=e("li",{class:"nav-item dropdown create"},[e("a",{class:"nav-link dropdown-toggle",href:"#",id:"createItem",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("span",{class:"material-icons material-icons-outlined text-dark"}," add ")]),e("ul",{class:"dropdown-menu","aria-labelledby":"createItem"},[e("li",null,[e("a",{class:"dropdown-item",href:"#"},"新增資源")]),e("li",null,[e("a",{class:"dropdown-item",href:"#"},"新增募集")])])],-1),$={class:"nav-item dropdown"},H={class:"nav-link dropdown-toggle accountMenuImg",href:"#",id:"accountMenu",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},U={class:"userImg d-inline-block bg-primary px-2 py-2 rounded-circle fw-bold fs-7 lh-1 text-white text-center"},J={class:"dropdown-menu","aria-labelledby":"accountMenu"},O={class:"accountMenu"},z={class:"container-fluid p-lg-0"},F={class:"footer container-fluid py-5 p-lg-5 bg-primary"},q={class:"container d-flex flex-md-row flex-column justify-content-between align-items-center"},G={class:"navbar-nav d-flex flex-row flex-wrap justify-content-start"},K={class:"nav-item me-3 me-md-5 mb-3 mb-md-0"},Q=x('<li class="nav-item me-2"><a class="nav-link text-white">關於我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">聯絡我們</a></li><li class="nav-item me-2"><a class="nav-link text-white">常見問題</a></li><li class="nav-item me-2"><a class="nav-link text-white">隱私權政策</a></li><li class="nav-item me-2"><a class="nav-link text-white"></a></li>',5),W=e("ul",{class:"navbar-nav d-flex flex-row"},[e("li",{class:"nav-item me-2"},[e("a",{class:"nav-link text-white fs-8"},"僅學習作品用無商業用途")])],-1);function X(r,c,Y,Z,a,d){const s=u("router-link"),m=u("router-view");return l(),i("div",y,[e("header",L,[e("div",S,[e("nav",T,[e("div",V,[t(s,{class:"navbar-brand mt-lg-2",to:"/"}),P,e("div",j,[C,a.isLogin===!1?(l(),i("div",M,[e("ul",R,[e("li",A,[t(s,{class:"nav-link btn btn-primary mx-lg-2 px-2 text-white",to:"/login"},{default:o(()=>[n("登入")]),_:1}),t(s,{class:"nav-link btn btn-secondary mx-lg-2 mx-2 px-2 text-white",to:"/signup"},{default:o(()=>[n("註冊")]),_:1})])])])):(l(),i("div",B,[e("ul",D,[E,N,e("li",$,[e("a",H,[e("span",U,v(a.userInfo.firstName[0].toUpperCase()),1)]),e("ul",J,[e("li",null,[e("ul",O,[e("li",null,[t(s,{class:"dropdown-item",to:`/user-home/user-profile/${a.userInfo.id}`},{default:o(()=>[n("個人資料")]),_:1},8,["to"])]),e("li",null,[t(s,{class:"dropdown-item",to:`/user-home/user-resources/${a.userInfo.id}`},{default:o(()=>[n("我的資源")]),_:1},8,["to"])])])]),e("li",null,[e("a",{role:"button",class:"dropdown-item logOut",onClick:c[0]||(c[0]=b((...p)=>d.logout&&d.logout(...p),["prevent"]))},"登出")])])])])]))])])])])]),e("div",z,[e("main",null,[t(m)])]),e("footer",F,[e("div",q,[e("ul",G,[e("li",K,[t(s,{class:"footer-brand",to:"/"})]),Q]),W])])])}const se=h(I,[["render",X]]);export{se as default};
