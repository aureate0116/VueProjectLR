import{_ as m,R as _,a as f,m as v,r as h,o as r,c as i,b as e,d as s,w as b,v as x,e as g,f as c,t as w,g as y,h as k,K as I,i as d}from"./index-af5e858c.js";import{u as C}from"./userStore-2a7cca1a.js";const{VITE_API_PATH:L}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{isLogin:!1,userInfo:null,userId:localStorage.getItem("userId"),accessToken:localStorage.getItem("accessToken"),searchbarContent:"",searchText:""}},components:{RouterView:_,RouterLink:f},computed:{},watch:{userInfo(){this.userInfo===null||this.userInfo===void 0?this.isLogin=!1:this.isLogin=!0}},created(){this.getUserData()},methods:{...v(C,["login"]),goHome(){this.$route.name!=="home"&&this.$router.push({path:"/"})},getUserData(){this.$http.get(`${L}/users?id=${this.userId}`,{Authorization:`Bearer ${this.accessToken}`}).then(u=>{this.userInfo=u.data[0],this.isLogin=!0}).catch(()=>{})},logout(){this.isLogin=!1,this.$router.push("/"),localStorage.setItem("accessToken",""),localStorage.setItem("userId","")},searchResources(){this.searchbarContent&&(this.searchText=this.searchbarContent,this.$router.push({path:`/resource-list/search=${this.searchText}`})),this.searchbarContent=""}},mounted(){}},S={class:"container-fluid p-0 bg-white min-vh-100 d-flex flex-column justify-content-between"},R={class:"container-fluid p-lg-0"},V={class:"container p-lg-0"},j={class:"navbar navbar-expand-lg navbar-light py-4"},P={class:"container-fluid p-0 d-lg-flex align-items-center"},M=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse mt-3 mt-lg-0 d-lg-flex justify-content-end",id:"navbarContent"},B=e("ul",{class:"navbar-nav d-lg-flex align-items-lg-center"},[e("li",{class:"nav-item position-relative"},[e("a",{class:"nav-link dropdown-toggle text-black",href:"#",id:"resourceBrowse",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"探索資源"),e("ul",{class:"dropdown-menu position-absolute start-0","aria-labelledby":"resourceBrowse"},[e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/JavaScript"},"JavaScript")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/HTML&CSS"},"HTML/CSS")]),e("li",null,[e("a",{class:"dropdown-item",href:"/VueProjectLR#/resource-list/Python"},"Python")])])])],-1),D={class:"navbar-nav d-lg-flex align-items-lg-center mx-3"},E={class:"nav-item text-black"},H={class:"bg-light input-group input-group-sm rounded-3 my-3"},K=e("a",{class:"btn lh-1",href:"#",role:"button"},[e("span",{class:"material-icons material-icons-outlined"},"search")],-1),U={key:0},$={class:"navbar-nav beforeLogin"},N={class:"nav-item d-flex"},J={key:1,class:"desktopMenu"},O={class:"afterLogin justify-content-end navbar-nav d-lg-flex align-items-lg-center lh-1"},z={class:"nav-item dropdown"},F={class:"nav-link dropdown-toggle accountMenuImg",href:"#",id:"accountMenu",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},q={class:"userImg d-inline-block bg-primary px-2 py-2 rounded-circle fw-bold fs-7 lh-1 text-white text-center"},G={class:"dropdown-menu","aria-labelledby":"accountMenu"},Q={class:"accountMenu"},W={class:"container-fluid p-lg-0"},X={class:"footer container-fluid py-5 p-lg-5 bg-primary"},Y={class:"container d-flex flex-md-row flex-column justify-content-between align-items-center"},Z={class:"navbar-nav d-flex flex-row flex-wrap justify-content-start"},ee={class:"nav-item me-md-5 mb-3 mb-md-0"},te=e("li",{class:"nav-item me-2"},[e("a",{class:"nav-link text-white"})],-1),se=e("ul",{class:"navbar-nav d-flex flex-row"},[e("li",{class:"nav-item me-2"},[e("a",{class:"nav-link text-white fs-8"},"僅學習作品用無商業用途")])],-1);function oe(u,t,ne,ae,o,n){const a=h("router-link"),p=h("router-view");return r(),i("div",S,[e("header",R,[e("div",V,[e("nav",j,[e("div",P,[s(a,{class:"navbar-brand mt-lg-2",to:{path:"/"},onClick:n.goHome},null,8,["onClick"]),M,e("div",A,[B,e("ul",D,[e("li",E,[e("div",H,[K,b(e("input",{class:"border-0 bg-light form-control",type:"text",placeholder:"JavaScript","onUpdate:modelValue":t[0]||(t[0]=l=>o.searchbarContent=l),onKeyup:t[1]||(t[1]=g(l=>n.searchResources(),["enter"])),onKeydown:t[2]||(t[2]=g(l=>n.searchResources(),["enter"]))},null,544),[[x,o.searchbarContent]])])])]),o.isLogin===!1?(r(),i("div",U,[e("ul",$,[e("li",N,[s(a,{class:"nav-link btn btn-primary mx-lg-2 px-2 text-white",to:"/login"},{default:c(()=>[d("登入")]),_:1}),s(a,{class:"nav-link btn btn-secondary mx-lg-2 mx-2 px-2 text-white",to:"/signup"},{default:c(()=>[d("註冊")]),_:1})])])])):(r(),i("div",J,[e("ul",O,[e("li",z,[e("a",F,[e("span",q,w(o.userInfo.firstName[0].toUpperCase()),1)]),e("ul",G,[e("li",null,[e("ul",Q,[e("li",null,[s(a,{class:"dropdown-item",to:"/user-home/user-resources"},{default:c(()=>[d("我的資源")]),_:1})])])]),e("li",null,[e("a",{role:"button",class:"dropdown-item logOut",onClick:t[3]||(t[3]=y((...l)=>n.logout&&n.logout(...l),["prevent"]))},"登出")])])])])]))])])])])]),e("div",W,[e("main",null,[(r(),k(I,null,[s(p,{"search-text":o.searchText},null,8,["search-text"])],1024))])]),e("footer",X,[e("div",Y,[e("ul",Z,[e("li",ee,[s(a,{class:"footer-brand",to:"/"})]),te]),se])])])}const ie=m(T,[["render",oe]]);export{ie as default};
