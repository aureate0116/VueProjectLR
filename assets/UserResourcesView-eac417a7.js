import{L as g,S as k}from"./StarComponent-b9be1cb6.js";import{_ as b,S as u,r as i,o as c,c as l,d as s,b as o,F as _,C as x,f as y,w as a,g as v,t as B}from"./index-fdf81f32.js";const{VITE_API_PATH:r}={VITE_API_PATH:"https://json-server-vueprojectlr.onrender.com",BASE_URL:"/VueProjectLR/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{isLoading:!1,userInfo:null,userId:localStorage.getItem("userId"),accessToken:localStorage.getItem("accessToken"),userBookmarksData:[]}},components:{LoadingComponent:g,StarComponent:k},computed:{},methods:{getUserData(){this.$http.get(`${r}/users/${this.userId}`).then(t=>{this.userInfo=t.data[0],this.isLogin=!0}).catch(t=>{console.log(t)})},getUserBookmarks(){this.$http.get(`${r}/bookmarks?_expand=resource&&userId=${this.userId}`).then(t=>{this.userBookmarksData=t.data}).catch(()=>{})},removeResourceItem(t){u.fire({title:"您確定要取消收藏嗎?",icon:"warning",iconColor:"#F8B436",showCancelButton:!0,confirmButtonColor:"#4AA9B6",cancelButtonColor:"#F8B436",confirmButtonText:"是",cancelButtonText:"否"}).then(d=>{d.isConfirmed&&typeof Storage<"u"&&this.$http.delete(`${r}/bookmarks/${t}`,{Authorization:`Bearer ${this.accessToken}`}).then(()=>{u.fire({title:"已成功取消收藏",confirmButtonColor:"#4AA9B6"}),this.getUserBookmarks()}).catch(()=>{})}).catch(()=>{})}},created(){this.getUserData(),this.getUserBookmarks()},mounted(){}},$={class:"container my-8 pb-5"},w={class:"mt-4"},C=y('<div class="row"><div class="col-lg-4 col-md-6 col"><div class="mb-lg-5 mb-md-3 d-flex justify-content-between"><select class="form-select form-select-sm me-1" aria-label=".form-select-sm example"><option selected>所有資源</option><option value="1">建立的資源</option><option value="2">收藏的資源</option></select><select class="form-select form-select-sm me-1" aria-label=".form-select-sm example"><option selected>資源主題</option></select></div></div><div class="col-lg-2 col-md-6 col"><div class="d-flex align-items-center"><input class="form-check-input" type="checkbox" value="" id="selectAll"><label class="form-check-label fs-8 mx-1" for="selectAll">全選</label><button class="btn btn-light fs-8 mx-1 text-dark">刪除</button></div></div><div class="col-lg-4"></div><div class="col-lg-2 fs-7"><div class="input-group mb-5"><select class="form-select form-select-sm" id="inputGroupSelect01"><option value="heightRate" selected>最高評價</option><option value="new">最新</option></select></div></div></div><div class="row border-bottom"><div class="col-1 d-none d-xl-block"></div><div class="col-2 col-md-1 d-flex justify-content-center">置頂</div><div class="col-1 d-none d-md-block"></div><div class="col-4 col-xl-4 col-md-5 text-center">資源項目</div><div class="col-6 col-xl-4 col-md-5 text-center">操作</div><div class="col-1 d-none d-xl-block"></div></div>',2),A={class:"row"},R={class:"col userResourcesList"},L=o("div",{class:"col-1 d-none d-xl-block"},null,-1),V=o("div",{class:"col-2 col-md-1 d-flex justify-content-center"},[o("span",{class:"material-icons-outlined fs-7 text-seondary"},"push_pin")],-1),j={key:0,class:"col-1 d-none d-md-block"},T=["src","alt"],D={key:1,class:"col-1 d-none d-md-block"},U=["src","alt"],P={class:"col-xl-4 col-4 col-md-5"},E={class:"fs-7"},F={class:"col-xl-4 col-6 col-md-5"},H={class:"d-flex align-items-center justify-content-center flex-column flex-md-row"},N=["href"],O=["onClick"],z=o("span",{class:"fs-6 material-icons btnRemove"},"bookmark_remove",-1),G=[z],M=o("div",{class:"col-1 d-none d-xl-block"},null,-1);function q(t,d,J,K,m,h){const p=i("loading-component"),n=i("router-link"),f=i("star-component");return c(),l(_,null,[s(p,{"is-loading":m.isLoading},null,8,["is-loading"]),o("div",$,[o("div",w,[C,o("div",A,[o("div",R,[(c(!0),l(_,null,x(m.userBookmarksData,e=>(c(),l("div",{key:e.resourceId,class:"row my-3 d-flex align-items-center itemRow"},[L,V,e.resource.imgUrl!=""?(c(),l("div",j,[s(n,{to:`/resource/${e.resource.id}`,target:"_blank"},{default:a(()=>[o("img",{src:"/VueProjectLR/images/resources_cover/"+e.resource.imgUrl,alt:e.resource.title},null,8,T)]),_:2},1032,["to"])])):(c(),l("div",D,[s(n,{to:`/resource/${e.resource.id}`,target:"_blank"},{default:a(()=>[o("img",{src:"/VueProjectLR/images/resources_cover/noimgCover.jpg",alt:e.resource.title},null,8,U)]),_:2},1032,["to"])])),o("div",P,[o("h4",E,[s(n,{class:"text-dark",to:`/resource/${e.resource.id}`,target:"_blank"},{default:a(()=>[v(B(e.resource.title),1)]),_:2},1032,["to"])]),s(f,{commentSum:e==null?void 0:e.resource.commentSum,averageScore:e==null?void 0:e.resource.averageScore.toString()},null,8,["commentSum","averageScore"])]),o("div",F,[o("div",H,[s(n,{class:"btn btnHover btn-outline-primary my-lg-2 mx-lg-1",type:"button",to:`/resource/${e.resource.id}`},{default:a(()=>[v("查看評論")]),_:2},1032,["to"]),o("a",{href:e.resource.url,target:"_blank",type:"button",class:"btn btnHover btn-outline-secondary my-2 mx-1"},"資源網站",8,N),o("a",{role:"button",onClick:Q=>h.removeResourceItem(e.id),class:"btn my-2 mx-1 text-secondary"},G,8,O)])]),M]))),128))])])])])],64)}const Y=b(S,[["render",q]]);export{Y as default};
